{"version":3,"sources":["views/app-views/pages/planner/index.js","views/app-views/pages/planner/pics/table.png","views/app-views/pages/planner/pics/chair.png","views/app-views/pages/planner/pics/wall.png","views/app-views/pages/planner/pics/wall1.png"],"names":["data","id","name","img","x","y","Planner","useState","drag","setDrag","pos","setPos","elements","setElements","onStart","onStop","i","newState","map","obj","node","handleDrag","e","ui","deltaX","deltaY","className","for","class","type","onChange","fileReader","FileReader","readAsText","target","files","onload","console","log","JSON","parse","result","href","onClick","length","message","error","fileData","stringify","blob","Blob","url","URL","createObjectURL","link","document","createElement","download","click","src","alt","urid","addEL","defaultPosition","onDrag","newEl","filter","el","removeEl"],"mappings":"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","file":"static/js/16.eacbda91.chunk.js","sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport './style.css'\r\nimport table from './pics/table.png'\r\nimport chair from './pics/chair.png'\r\nimport wall from './pics/wall.png'\r\nimport wall1 from './pics/wall1.png'\r\nimport urid from 'urid';\r\nimport { message } from 'antd';\r\n\r\nconst data = [\r\n    {\r\n        id: 1,\r\n        name: \"Table\",\r\n        img: table,\r\n        x: 50,\r\n        y: 50\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Chair\",\r\n        img: chair,\r\n        x: 50,\r\n        y: 50\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Wall horizontal\",\r\n        img: wall,\r\n        x: 50,\r\n        y: 50\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Wall vetical\",\r\n        img: wall1,\r\n        x: 50,\r\n        y: 50\r\n    }\r\n]\r\n\r\nconst Planner = () => {\r\n    let [drag, setDrag] = useState(0)\r\n    let [pos, setPos] = useState(\r\n            {        \r\n                x: 0, y: 0\r\n            }\r\n        )\r\n\r\n    let [elements, setElements] = useState([])\r\n\r\n    const handleUpload = e => {\r\n        const fileReader = new FileReader();\r\n        fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n        fileReader.onload = e => {\r\n          console.log(\"e.target.result\", JSON.parse(e.target.result));\r\n          setElements(JSON.parse(e.target.result));\r\n        };\r\n    };\r\n\r\n    const addEL = (e) => {\r\n        let id = urid();\r\n        setElements([...elements, {...e, id: id}])\r\n    }\r\n\r\n    const onStart = () => {\r\n        setDrag({drag: ++drag});\r\n    };\r\n    \r\n    const onStop = (i, data) => {\r\n        const newState = elements.map(obj => {\r\n            if (obj.id === data.node.id) {\r\n              return {...obj, x: data.x, y: data.y};\r\n            }\r\n            return obj;\r\n        });\r\n        setElements(newState)\r\n        setDrag({drag: --drag});\r\n    };\r\n\r\n    const handleDrag = (e, ui) => {\r\n        const {x, y} = pos;\r\n        setPos({\r\n            x: x + ui.deltaX,\r\n            y: y + ui.deltaY,\r\n        });\r\n    };\r\n\r\n    const removeEl = (id) => {\r\n        let newEl = elements.filter(el => el.id !== id)\r\n        setElements(newEl)\r\n    }\r\n\r\n    const downData = (data) => {\r\n        if (elements.length < 1) {\r\n            message.error('There are no items on the plan');\r\n        } else {\r\n            const fileData = JSON.stringify(elements);\r\n            const blob = new Blob([fileData], { type: \"text/plain\" });\r\n            const url = URL.createObjectURL(blob);\r\n            const link = document.createElement(\"a\");\r\n            link.download = \"user-info.json\";\r\n            link.href = url;\r\n            link.click();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className='elements'>\r\n                <h3>Elements</h3>\r\n                <div className='import-export'>\r\n                    <label for=\"file-upload\" class=\"custom-upload\">\r\n                        Import plan\r\n                    </label>\r\n                    <input id=\"file-upload\" type=\"file\" onChange={handleUpload} />\r\n                    <a href={() => false} onClick={downData}>Export plan to file</a>\r\n                </div>\r\n                {data.map((i) =>\r\n                    <div className='item'>\r\n                        <p>{i.name}</p> \r\n                        <img src={i.img} alt='' />\r\n                        <div className='add'><button onClick={() => addEL(i)}>Add</button></div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            {elements.length > 0 ?\r\n            <div className='room'>\r\n                <h3>Room</h3>\r\n                {elements.map((i) => \r\n                    <Draggable defaultPosition={{x: i.x, y: i.y}} onDrag={handleDrag} onStop={onStop} onStart={onStart}>\r\n                        <div id={i.id} className='box'><span onClick={e => removeEl(i.id)} className='remove'>X</span><img src={i.img} alt='' /></div>\r\n                    </Draggable>\r\n                )}\r\n            </div> : <div className='room'><h3>Room</h3></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Planner","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAABbCAIAAABs2olpAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADrSURBVHhe7dExAQAgDMCwgQ0MI5sHF2meCui6cyaq/RtS+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2ntp7Wf1n5a+2EzD/kOAVkpEwACAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAIAAACgvKk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAtSURBVEhLY+xgkGagHmCC0lQCo8aRD0aNIx+MGkc+GDWOfDBqHPlgBBnHwAAAsY0A1fdPaokAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAE6CAIAAABCgU+KAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABqSURBVGhD7cqhEYBAEMDAgyqv/0owyMw8ErFrYnLt7nxwvz3xNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/zNV/79zfzAPuSA3xRFDzpAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAToAAAANCAIAAAC2KDWqAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABGSURBVGhD7dMxDQAxDMDA9FGGP5IuBfGW7hYj8NndAQq+V+D37AoZdoUMu0KGXSHDrpBhV8iwK2TYFTLsChl2hQy7QsTMBQF+ASJp8q5PAAAAAElFTkSuQmCC\""],"sourceRoot":""}